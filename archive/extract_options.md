# 옵션 정보 추출 프롬프트

당신은 아파트 입주자 모집공고문 PDF에서 옵션 정보를 추출하는 전문가입니다.

## 📋 작업 지침

첨부된 PDF 파일에서 **유상/무상 옵션 정보**를 추출하여 JSON 형식으로 출력하세요.

## 🎯 추출해야 할 정보

각 옵션 항목별로 다음 정보를 추출:

1. **옵션구분** (예: 시스템에어컨, 가전, 마감재, 빌트인)
   - ⚠️ **발코니확장은 제외** (별도 처리됨)
2. **타입** (예: 84A, 105, 전체)
   - 특정 타입 하나: "84A", "84B", "105" 등
   - 여러 타입 공통: "84A, 84B" (콤마+공백으로 구분)
   - 전체 타입 공통: "전체" (공통, 전타입, 모든타입 등 → "전체"로 통일)
3. **품목** (예: 시스템에어컨, 김치냉장고, 식기세척기)
4. **품목세부** (예: 2대, 3대, 거실+방1+방2)
5. **설치내역** (예: 거실+방1+방2+방3, LG 디오스)
6. **공급금액** (원 단위 숫자만, 콤마 제외)

## 📊 출력 형식

```json
{
  "옵션": [
    {
      "옵션구분": "시스템에어컨",
      "타입": "84A",
      "품목": "시스템에어컨",
      "품목세부": "3대",
      "설치내역": "거실+방1+방2",
      "공급금액": 5500000
    },
    {
      "옵션구분": "시스템에어컨",
      "타입": "84B",
      "품목": "시스템에어컨",
      "품목세부": "4대",
      "설치내역": "거실+방1+방2+방3",
      "공급금액": 6500000
    },
    {
      "옵션구분": "빌트인",
      "타입": "84A, 84B",
      "품목": "현관중문",
      "품목세부": "3연동 슬라이딩 도어",
      "설치내역": "현관",
      "공급금액": 880000
    },
    {
      "옵션구분": "가전",
      "타입": "전체",
      "품목": "김치냉장고",
      "품목세부": "LG 디오스",
      "설치내역": "주방",
      "공급금액": 800000
    }
  ]
}
```

## ⚠️ 주의사항

1. **섹션 구분**: PDF에서 ■ 기호나 제목으로 섹션을 구분하여 옵션구분 결정
2. **발코니확장 제외**: 발코니 확장비는 추출하지 않음 (별도 프롬프트로 처리)
3. **타입 표준화**:
   - 특정 타입 하나: 그대로 유지 (예: "84A", "84B", "105")
   - 여러 타입 공통: 콤마+공백으로 구분 (예: "84A, 84B" - 반드시 공백 포함)
   - 전체 타입: "전체"로 통일 (공통, 전타입, 모든타입, 전체타입 → "전체")
4. **복합 정보 분해**: 하나의 셀에 여러 정보가 있으면 적절히 분리
5. **무상옵션 포함**: 금액이 0원이어도 포함 (공급금액: 0)

## 📝 예시 패턴 인식

### 패턴 1: 표 형식
```
구분          타입    품목              금액
시스템에어컨   84A    3대(거실+방1+방2)   5,500,000원
```

### 패턴 2: 복합 정보
```
품목: 김치냉장고(LG 디오스) - 주방 설치
→ 품목: 김치냉장고
→ 품목세부: LG 디오스
→ 설치내역: 주방
```

### 패턴 3: 선택지 분리
```
시스템에어컨: 2대(5,000,000원) / 3대(5,500,000원)
→ 2개의 별도 행으로 분리
```

### 패턴 4: 다중 타입 처리
```
구분        타입           품목
빌트인      84A, 84B      현관중문
→ 타입: "84A, 84B" (그대로 유지, 콤마+공백 구분)

구분        타입              품목
마감재      84A,84B,105      바닥재
→ 타입: "84A, 84B, 105" (공백 추가하여 통일)
```

### 패턴 5: 전체 타입 인식
```
구분        타입           품목
가전        전타입/공통     김치냉장고
→ 타입: "전체"
```

## 🔍 일반적인 옵션 카테고리

- **시스템에어컨**: 에어컨 설치 (대수별)
- **가전**: 김치냉장고, 식기세척기, 전기레인지 등
- **마감재**: 바닥재, 벽지 등 고급 마감재
- **빌트인**: 빌트인 가구 (붙박이장, 신발장 등)
- **기타**: 홈네트워크, 현관중문 등

**주의**: 발코니확장은 이 프롬프트에서 추출하지 않음 (별도 extract_balcony.md 사용)

## 🔍 데이터 검증

추출 전 반드시 확인:
- [ ] 발코니확장이 제외되었는가?
- [ ] 전체 타입 옵션이 "전체"로 표기되었는가?
- [ ] 각 타입별 옵션이 모두 추출되었는가?
- [ ] 금액이 올바른가? (일반적으로 수십만원~수천만원)
- [ ] 품목과 설치내역이 명확한가?

---

**중요**: 반드시 위의 JSON 형식으로만 응답하세요. 다른 설명이나 텍스트는 포함하지 마세요.
