# 특정 폼에서만 단지명 2개만 보이게 하는 방법

**상황**: 다른 폼에서는 전체 단지가 보이지만, 배방아이유쉘 폼에서는 2개만 보여야 함

---

## 🎯 방법 비교

### ❌ 가상 칼럼 (비추천)
- 복잡함
- 다른 필드와 충돌 가능
- 유지보수 어려움

### ✅ Slice 사용 (추천) ⭐⭐⭐⭐⭐
- 간단함
- 폼별로 독립적
- 유지보수 쉬움

---

## ✅ 해결책: Slice 사용

### Step 1: 아파트매물용 Slice 생성

```
□ AppSheet → Data 메뉴
□ Slices 탭 클릭
□ + New Slice 클릭

□ Slice name: "배방아이유쉘_전용"

□ Detail table: 아파트매물 선택

□ Condition 입력:
OR(
  [단지명].[단지명] = "아산배방1단지우방아이유쉘",
  [단지명].[단지명] = "아산배방우방아이유쉘2단지"
)

또는 더 간단하게:
IN([단지명].[단지명], ["아산배방1단지우방아이유쉘", "아산배방우방아이유쉘2단지"])

□ Save
```

---

### Step 2: Form 뷰에 Slice 적용

```
□ UX → Views → "배방아이유쉘_고객접수" 폼 선택
□ Form 편집 모드

□ Detail slice 선택:
   Detail slice: 배방아이유쉘_전용 (위에서 만든 Slice)

□ Save
```

---

### Step 3: 단지명 드롭다운이 자동 필터링됨!

**핵심**: Slice가 전체 데이터를 필터링하므로,  
단지명 드롭다운도 자동으로 2개만 표시됩니다! ✅

---

## 🧪 작동 원리

### Slice 전 (전체 폼):
```
아파트매물DB (전체)
├─ 단지1
├─ 단지2
├─ 아산배방1단지우방아이유쉘 ✅
├─ 아산배방우방아이유쉘2단지 ✅
├─ 단지5
└─ ...

→ 단지명 드롭다운: 전체 목록 표시
```

### Slice 후 (배방아이유쉘 폼):
```
아파트매물DB with 배방아이유쉘_전용 Slice
├─ 아산배방1단지우방아이유쉘 ✅
└─ 아산배방우방아이유쉘2단지 ✅

→ 단지명 드롭다운: 2개만 표시 ✅
```

---

## 🔧 다른 방법들

### 방법 B: Valid_If 직접 제한 (덜 추천)

현재 폼의 단지명 필드에만 Valid_If 추가:

```
□ Form 뷰 편집 모드
□ 단지명 필드 클릭
□ Settings → Advanced settings → Valid If

입력:
IN([단지명].[단지명], ["아산배방1단지우방아이유쉘", "아산배방우방아이유쉘2단지"])

□ Save
```

**문제점**:
- 폼별로 설정이 분리 안 됨
- 다른 필드에 영향 줄 수 있음

---

### 방법 C: 별도 뷰 + 컬럼 재정의 (너무 복잡)

별도 뷰를 만들고 컬럼을 가상 칼럼으로 덮어쓰기:
```
❌ 너무 복잡하고 비추천
```

---

## 📊 최종 추천 구조

```
┌─────────────────────────────────┐
│ 전체 폼 (기본)                   │
├─────────────────────────────────┤
│ Detail table: 아파트매물         │
│ Detail slice: (없음, 전체)      │
│                                 │
│ 단지명 드롭다운: 전체 표시       │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 배방아이유쉘 폼 (전용)           │
├─────────────────────────────────┤
│ Detail table: 아파트매물         │
│ Detail slice: 배방아이유쉘_전용  │ ← 핵심!
│                                 │
│ 단지명 드롭다운: 2개만 표시 ✅  │
└─────────────────────────────────┘
```

---

## 🧪 테스트 체크리스트

```
□ 배방아이유쉘_전용 Slice 생성
□ Form 뷰에 Slice 적용
□ Preview 클릭
□ 단지명 드롭다운에 2개만 표시되는지 확인 ✅
□ 다른 폼에서는 여전히 전체가 표시되는지 확인 ✅
```

---

## 🚨 주의사항

### Valid_If와의 차이점

**Valid_If**:
- 필드 레벨 제한
- 폼별로 다르게 설정 어려움
- 기존 Valid_If와 충돌 가능

**Slice**:
- 데이터 레벨 제한
- 폼별로 독립적 ✅
- 기존 로직과 충돌 없음 ✅

---

## 💡 추가 팁

### 다른 조건이 필요하면

**예: 특정 단지 + 특정 상태**:
```
Condition:
AND(
  IN([단지명].[단지명], ["아산배방1단지우방아이유쉘", "아산배방우방아이유쉘2단지"]),
  [거래상태] = "접수"
)
```

**예: 특정 단지 + 제외 조건**:
```
Condition:
AND(
  IN([단지명].[단지명], ["아산배방1단지우방아이유쉘", "아산배방우방아이유쉘2단지"]),
  [거래상태] <> "완료"
)
```

---

## ✅ 결론

**Slice를 사용하세요!** ⭐⭐⭐⭐⭐

**이유**:
1. ✅ 설정 간단 (1분)
2. ✅ 폼별로 독립적
3. ✅ 기존 로직과 충돌 없음
4. ✅ 유지보수 쉬움

**작업 순서**:
1. Slice 생성
2. Form에 적용
3. 완료! ✅

---

**준비됐나요? 시작하세요!** 🚀

