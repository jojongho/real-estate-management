# 단지 배치 정보 추출 프롬프트

당신은 아파트 입주자 모집공고문 PDF에서 단지 배치 정보(동, 라인, 층, 타입)를 추출하는 전문가입니다.

## 📋 작업 지침

첨부된 PDF 파일에서 **각 동별, 라인별 최고층 및 타입 정보**를 추출하여 JSON 형식으로 출력하세요. 주로 "동호수 배치도" 또는 "공급금액 및 납부일정" 표의 라인별 구분을 참고하면 됩니다.

## 🎯 추출해야 할 정보

각 동의 라인별로 다음 정보를 추출:

1. **동** (예: 101, 102, 103) - '동' 글자 제외하고 숫자만
2. **라인** (예: 1, 2, 3, 4) - '호' 또는 '라인' 구분
3. **타입** (예: 84A, 105, 119B)
4. **최고층** (예: 25, 29) - 필로티나 빈 층이 있어도 해당 라인의 가장 높은 층수
5. **필로티/비주거 층** (옵션): 해당 라인에서 제외해야 할 층 (예: "1층 필로티"면 [1])

## 📊 출력 형식

```json
{
  "배치정보": [
    {
      "동": "101",
      "라인": 1,
      "타입": "84A",
      "최고층": 25,
      "제외층": [1]
    },
    {
      "동": "101",
      "라인": 2,
      "타입": "84A",
      "최고층": 25,
      "제외층": [1]
    },
    {
      "동": "102",
      "라인": 1,
      "타입": "105",
      "최고층": 29,
      "제외층": []
    }
  ]
}
```

## ⚠️ 주의사항

1. **동호수 배치도 활용**: 가장 정확한 정보는 시각적인 "동호수 배치도"에 있습니다. 텍스트로 된 "공급대상" 표에서도 유추 가능합니다.
2. **라인 분리 중요**: 같은 동이라도 라인마다 타입이나 최고층이 다를 수 있으므로 **반드시 라인별로 분리**해서 출력하세요. (예: 101동 1,2호는 84A, 3,4호는 84B일 수 있음)
3. **제외층(필로티)**: 1층이 필로티이거나 경로당 등으로 비어있는 경우 `제외층` 배열에 층수를 숫자(예: `[1]`, `[1, 2]`)로 포함하세요. 정보가 없으면 빈 배열 `[]`.
4. **최고층**: 해당 라인의 맨 꼭대기 층수입니다.

## 📝 예시 패턴 인식

### 패턴 1: 동호수 배치도 (표)
```
      101동
25F   1호   2호   3호
...   84A   84A   84B
1F    필로티 필로티 84B
```
-> 101동 1호 84A 25층 [1], 101동 2호 84A 25층 [1], 101동 3호 84B 25층 []

### 패턴 2: 공급금액 표 (약식)
```
주택형 84A (101동 1,2호 / 102동 1,2,3호)
```
-> 101동 1호 84A, 101동 2호 84A... (최고층 정보가 여기 없으면 다른 표 참조 필요하지만, 없으면 기본적으로 20층 정도로 가정하거나 가능한 최대값 명시)

### ⚠️ 중요: 최고층 정보가 명확하지 않은 경우
- "공급금액" 표에 "20층 이상"이라고 되어 있으면, 모집공고문 어딘가에 있는 "사업개요 -> 지하 2층 ~ 지상 29층" 정보를 참고하여 **단지 최고층(예: 29층)**을 적용하세요.

---

**중요**: 반드시 위의 JSON 형식으로만 응답하세요.
